:root{
  --bg:#0b0d10;
  --bg-alt:#12151a;
  --text:#e9eef5;
  --muted:#98a2b3;
  --primary:#3b82f6;
  --border:#1f2430;
  --card:#0f1319;
}

/* 基本 */
*{ box-sizing:border-box }
html,body{ margin:0; padding:0 }
body{
  font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans JP",sans-serif;
  color:var(--text);
  background:linear-gradient(180deg,#0b0d10,#0e1420 60%,#0b0d10);
  line-height:1.7;
  overflow-x:hidden; /* 横スクロール封じ */
}
img,video,canvas,iframe{ max-width:100%; height:auto; display:block }

.container{ width:min(1100px,92%); margin-inline:auto }
.section{ padding:72px 0 }
.section.alt{ background:var(--bg-alt) }

h1,h2,h3{ line-height:1.2; margin:0 0 .5em }
h1{ font-size:clamp(28px,4vw,42px) }
h2{ font-size:clamp(22px,3vw,30px) }
h3{ font-size:clamp(18px,2.5vw,22px) }
p{ margin:0 0 1em }
.muted{ color:var(--muted) }
.small{ font-size:.9rem }

a{ color:inherit; text-decoration:none }
.text-link{ color:var(--primary) }

.btn{
  display:inline-block; padding:12px 18px; border-radius:999px;
  border:1px solid var(--border); transition:.12s transform ease,.12s box-shadow ease;
  font-weight:600;
}
.btn:hover{ transform:translateY(-1px) }
.btn:active{ transform:translateY(0) scale(.98) }

/* ヘッダー */
.site-header{
  position:sticky; top:0; z-index:10; backdrop-filter:saturate(150%) blur(6px);
  background:rgba(11,13,16,.6); border-bottom:1px solid var(--border);
}
.header-inner{ display:flex; align-items:center; justify-content:space-between; height:64px }

.brand{ display:inline-flex; align-items:center; gap:10px; font-weight:800; letter-spacing:.02em }
.brand-logo{ display:block; height:32px; width:auto; object-fit:contain }

.nav{ display:flex; gap:16px }
.nav a{ padding:8px 10px; border-radius:8px }
.nav a:hover{ background:rgba(255,255,255,.06) }

.nav-toggle{ display:none; background:none; border:none; cursor:pointer }
.nav-toggle .bar{ display:block; width:24px; height:2px; background:#fff; margin:5px 0 }

@media (max-width:800px){
  .nav-toggle{ display:block }
  .nav{
    position:fixed; inset:64px 0 auto 0; display:none; flex-direction:column;
    background:rgba(11,13,16,.95); padding:12px; border-bottom:1px solid var(--border);
  }
  .nav.open{ display:flex }
}

/* ヒーロー */
.hero{
  padding:96px 0 64px;
  background:
    radial-gradient(1200px 400px at 10% -10%, rgba(59,130,246,.25), transparent 60%),
    radial-gradient(1000px 400px at 90% -10%, rgba(16,185,129,.18), transparent 60%);
  text-align:center;
}
.hero p{ color:var(--muted) }
.cta-row{ margin-top:20px; display:flex; gap:12px; justify-content:center; flex-wrap:wrap }

/* ヒーローのメイン画像（角丸・比率維持） */
.hero-logo{
  border-radius:12px;
  max-width:320px;
  height:auto;
  object-fit:cover;
}

/* ヒーロー左右の4枚＋中央ロゴ */
/* 共通サイズ（PCで過大化しない） */
.hero-thumb,.hero-main{
  --heroSize:clamp(140px,16vw,200px);
  width:var(--heroSize);
  height:var(--heroSize);
  border-radius:12px;
  object-fit:cover;
  display:block;
}

/* PC：必ず1行（左2・中央ロゴ・右2） */
@media (min-width:701px){
  .hero-strip{
    display:grid;
    grid-template-columns:repeat(5, var(--heroSize));
    gap:16px;
    justify-content:center;
    align-items:center;
    margin-bottom:14px;
  }
}

/* スマホ：ロゴ1段目、4枚は2×2グリッド */
@media (max-width:700px){
  .hero-strip{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:10px;
    margin-bottom:14px;
  }
  .hero-main{
    grid-column:1 / -1;           /* 1段目で中央 */
    justify-self:center;
    --heroSize:clamp(160px,56vw,220px);
  }
  .hero-thumb{
    width:100%; height:auto; aspect-ratio:1 / 1;
  }
}

/* サムネの出現アニメ（左→右に順々） */
.hero-thumb{
  opacity:0; transform:translateX(-10px);
  transition:opacity .55s ease, transform .55s cubic-bezier(.2,.6,.2,1);
}
.hero-thumb.is-in{ opacity:1; transform:translateX(0) }

/* レイアウト（about） */
.grid-2{
  display:grid; gap:28px;
  grid-template-columns:1.2fr .8fr;  /* テキスト：画像 */
  align-items:start;
}
@media (max-width:900px){ .grid-2{ grid-template-columns:1fr } }

/* about の写真2枚（PC=横2枚, スマホも崩れない） */
.photo-row{
  display:grid;
  grid-template-columns:repeat(2, minmax(0, 250px));
  gap:16px;
  justify-content:center;   /* 中央寄せで溢れにくい */
}
@media (max-width:520px){
  .photo-row{ grid-template-columns:1fr 1fr; gap:12px }
}
.photo-box{
  width:100%;
  aspect-ratio:1 / 1;
  border-radius:12px;
  background-size:cover;
  background-position:center;
}

/* チェックリスト */
.check{ padding-left:1.1em }
.check li{ margin:.3em 0; list-style:"✔︎  " }

/* カード＆ブログ */
.card{
  background:var(--card); border:1px solid var(--border);
  border-radius:18px; overflow:hidden;
  box-shadow:0 20px 40px rgba(0,0,0,.25);
  transition:.18s transform ease, .18s box-shadow ease;
}
.card:hover{ transform:translateY(-2px) }

.cards{
  display:grid; gap:24px;
  grid-template-columns:repeat(3, minmax(0, 1fr)); /* 幅に合わせて縮む */
}
@media (max-width:900px){ .cards{ grid-template-columns:1fr 1fr } }
@media (max-width:600px){ .cards{ grid-template-columns:1fr } }

.card-thumb{
  aspect-ratio:16/9;
  background:linear-gradient(25deg, rgba(59,130,246,.25), rgba(16,185,129,.2));
  border-bottom:1px solid var(--border);
}
.card-body{ padding:16px 16px 18px }
.card-title{ margin:.1em 0 }

/* お問い合わせフォーム */
.contact-form{ display:grid; gap:14px; max-width:640px }
.contact-form input,.contact-form textarea{
  width:100%; padding:12px 14px; border-radius:12px;
  border:1px solid var(--border); background:#0a0e14; color:var(--text);
}
.contact-form button{ justify-self:start }

/* フッター */
.site-footer{ padding:28px 0; border-top:1px solid var(--border); background:rgba(0,0,0,.2) }
.footer-inner{ display:flex; align-items:center; justify-content:space-between; gap:12px }
.sns{ display:flex; gap:12px; flex-wrap:wrap }
.sns-link{ padding:6px 10px; border:1px solid var(--border); border-radius:999px }

/* ===== 出現モーション ===== */
.reveal{
  opacity:0; transform:translateY(12px);
  transition:opacity .6s ease, transform .6s cubic-bezier(.2,.6,.2,1);
  transition-delay:var(--d,0ms); will-change:opacity,transform;
}
.reveal.visible{ opacity:1; transform:translateY(0) }

.reveal-left,.reveal-right{
  opacity:0;
  transition:opacity .8s ease, transform .8s cubic-bezier(.2,.6,.2,1);
  transition-delay:var(--d,0ms); will-change:opacity,transform;
}
.reveal-left{ transform:translateX(-18px) }
.reveal-right{ transform:translateX(18px) }
.reveal-left.visible,.reveal-right.visible{ opacity:1; transform:translateX(0) }

/* フェイルセーフ付きの早出し（ヒーロー） */
.reveal-now{ opacity:1; transform:none }      /* JS無しでも見える */
html.js .reveal-now{
  opacity:0; transform:translateY(8px);
  transition:opacity .45s ease, transform .45s cubic-bezier(.2,.6,.2,1);
}
html.js .reveal-now.visible{ opacity:1; transform:none }
.fast.reveal,.fast.reveal-left,.fast.reveal-right,.fast.reveal-now{ transition-duration:.45s !important }

/* FAQ強調 */
details.faq{ margin:16px 0 20px }
.faq summary{
  cursor:pointer; font-size:clamp(18px,2.4vw,22px); font-weight:700;
  padding:14px 16px; border-radius:10px; line-height:1.4;
  transition:background .2s, color .2s;
}
.faq summary:hover{ background:rgba(59,130,246,.15); color:var(--primary) }
.faq[open] summary{ background:rgba(59,130,246,.25); color:var(--primary) }
.faq summary::-webkit-details-marker{ display:none }
.faq summary::after{ content:"▶"; float:right; transition:transform .2s ease; font-size:18px }
.faq[open] summary::after{ transform:rotate(90deg) }

/* モーダル */
.post-dialog{ width:min(800px,92%); border:none; border-radius:16px; padding:0; background:var(--card); color:var(--text) }
.post-dialog::backdrop{ background:rgba(0,0,0,.6) }
.post-article{ padding:20px 20px 24px; position:relative }
.post-close{ position:absolute; top:8px; right:10px; border:0; background:transparent; font-size:24px; color:var(--text); cursor:pointer; line-height:1 }
#postImage{ width:100%; height:auto; border-radius:12px; margin-bottom:12px }
#postBody p{ margin:0 0 1em }

/* アニメ嫌い設定 */
@media (prefers-reduced-motion:reduce){
  *{ animation:none !important; transition:none !important }
  .reveal,.reveal-left,.reveal-right,.reveal-now{ opacity:1 !important; transform:none !important }
}
/* ===== FIX: Hero strip layout 強制指定（競合の上から確実に勝つ） ===== */

/* ========== ヒーロー帯：PCは横一列、スマホは2x2の正方形 ========== */
/* === ヒーロー帯：PCは横1行、左右の間隔をロゴと等しく === */
.hero-strip{
  --heroSize: clamp(140px, 16vw, 200px);
  display: flex;
  grid-template-columns: repeat(5, var(--heroSize)); /* 左2 + ロゴ + 右2 */
  justify-content: center;
  align-items: center;
  gap: 16px;           /* ← これで左右の間隔をロゴと統一 */
  margin-bottom: 14px; /* 見出しとの余白 */
}
.hero-thumb,
.hero-main{
  --heroSize: clamp(140px, 16vw, 200px);
  width: var(--heroSize);
  height: var(--heroSize);
  border-radius: 12px;
  object-fit: cover;
  display: block;
}
/* 出現アニメ（左→右） */
.hero-thumb{
  opacity: 0;
  transform: translateX(-10px);
  transition: opacity .55s ease, transform .55s cubic-bezier(.2,.6,.2,1);
}
.hero-thumb.is-in{ opacity: 1; transform: translateX(0) }

/* === スマホ：ロゴを横幅いっぱい、その上下に2×2で4枚 === */
  .hero-strip{
    display: grid;
    justify-content: center;/* 2列 */
    align-items: center;
    gap: 16px;  /* 画面に収まる最大幅 */
    margin-bottom: 14px;
  }

  @media (min-width: 701px){
    .hero-strip{
      grid-template-columns: repeat(5, var(--heroSize));
    }
  }

  @media (max-width: 700px){
  .hero-strip{
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    width: min(560px, 92%);
    margin-inline: auto;
  }

  /* ロゴは1段目ぶち抜きで「横幅いっぱい」かつ正方形 */
  .hero-main{
    grid-column: 1 / -1;
    justify-self: center;
    width: 100% !important;
    max-width: 92vw;         /* はみ出し防止 */
    height: auto !important;
    aspect-ratio: 1 / 1 !important;
  }
  /* 4枚は必ず正方形 */
  .hero-thumb{
    width: 100% !important;
    height: auto !important;
    aspect-ratio: 1 / 1 !important;
  }
}

/* contact セクションは下の余白を詰め気味に */
.section:last-of-type{ padding-bottom: 32px; }
#contact.section{ padding-bottom: 24px; }
#contact .card{ margin-bottom: 0; }
/* ===== SNS アイコンボタン（ヘッダー/フッター共通） ===== */
.sns-icon{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:36px;           /* アイコンの見た目サイズ */
  height:36px;
  border-radius:999px;  /* まるいボタン */
  background:rgba(255,255,255,.06);
  border:1px solid var(--border);
  box-shadow:0 2px 8px rgba(0,0,0,.18);
  transition:transform .15s ease, background .15s ease;
}
.sns-icon:hover{ background:rgba(255,255,255,.12); transform:translateY(-1px); }
.sns-icon:active{ transform:translateY(0); }
.sns-icon img{
  width:70%;    /* 余白を残して中に収める */
  height:70%;
  object-fit:contain;
  display:block;
}

/* ヘッダーのナビと間隔を合わせる */
.nav .sns-icon{ padding:0; margin-left:4px; }

/* 小さな画面では少し大きめにすると押しやすい */
@media (max-width: 700px){
  .sns-icon{ width:40px; height:40px; }
}

/* 動きを好まない設定のときはアニメ無効化 */
@media (prefers-reduced-motion: reduce){
  .sns-icon{ transition:none; }
}
/* ボタン共通 */
.btn {
  display: inline-block;
  padding: 12px 18px;
  border-radius: 999px;
  border: 1px solid var(--border);
  font-weight: 600;
  background: transparent;
  color: var(--text);
  cursor: pointer;
  transition:
    transform 0.2s ease,
    box-shadow 0.25s ease,
    background 0.25s ease,
    color 0.25s ease;
}

/* ホバーしたときに少し浮く */
.btn:hover {
  transform: translateY(-3px) scale(1.02);
  box-shadow: 0 6px 16px rgba(59, 130, 246, 0.4);
}

/* クリック時に少し沈む */
.btn:active {
  transform: translateY(0) scale(0.97);
  box-shadow: 0 3px 8px rgba(59, 130, 246, 0.3);
}

/* プライマリボタン（問い合わせる） */
.btn.primary {
  background: var(--primary);
  color: #fff;
  border-color: transparent;
}
.btn.primary:hover {
  background: #2563eb; /* 少し濃い青 */
}

/* ゴーストボタン（活動を知る） */
.btn.ghost {
  background: transparent;
  border: 1px solid var(--primary);
  color: var(--primary);
}
.btn.ghost:hover {
  background: rgba(59, 130, 246, 0.1);
}
/* ==== ブログカード：ホバーで少し浮く・サムネはふわっと拡大 ==== */
.cards .card{
  transition: transform .18s ease, box-shadow .22s ease, border-color .22s ease;
  border-color: var(--border);
}
.cards .card:hover{
  transform: translateY(-4px);
  box-shadow: 0 12px 30px rgba(0,0,0,.35);
  border-color: rgba(59,130,246,.35); /* うっすら青みの縁 */
}

/* サムネ画像はほんの少しズーム＆明るさアップ */
.card-thumb{
  transition: transform .35s ease, filter .35s ease, opacity .35s ease;
  will-change: transform, filter;
}
.cards .card:hover .card-thumb{
  transform: scale(1.03);
  filter: brightness(1.05);
}

/* ==== 「続きを読む」リンクをボタンっぽく・ホバーが分かる ==== */
.text-link.readmore{
  position: relative;
  display: inline-block;
  font-weight: 600;
  padding: 8px 12px;
  border-radius: 999px;
  color: var(--primary);
  transition: color .2s ease, transform .15s ease, box-shadow .2s ease, background .2s ease;
}

/* うっすら下線アニメ（背景の線が伸びるイメージ） */
.text-link.readmore::after{
  content:"";
  position:absolute; left:12px; right:12px; bottom:6px;
  height:2px; border-radius:2px;
  background: currentColor;
  transform: scaleX(.15);
  transform-origin: left center;
  opacity:.35;
  transition: transform .25s ease, opacity .25s ease;
}

.text-link.readmore:hover{
  transform: translateY(-2px);
  background: rgba(59,130,246,.10);
  box-shadow: 0 6px 16px rgba(59,130,246,.25);
}
.text-link.readmore:hover::after{
  transform: scaleX(1);
  opacity:.7;
}

.text-link.readmore:active{
  transform: translateY(0) scale(.98);
  box-shadow: 0 3px 8px rgba(59,130,246,.18);
}

/* キーボード操作でも分かるフォーカスリング */
.text-link.readmore:focus-visible{
  outline: 0;
  box-shadow: 0 0 0 3px rgba(59,130,246,.45);
}

/* 低モーション設定のRespect */
@media (prefers-reduced-motion: reduce){
  .cards .card,
  .card-thumb,
  .text-link.readmore,
  .text-link.readmore::after{
    transition: none !important;
  }
}
/* お問い合わせ：ボタン行 */
.contact-actions{
  display:flex; align-items:center; gap:12px; margin-bottom:12px; flex-wrap:wrap;
}
/* 既存 .hero を上書き：スマホ時は上下パディングを小さく */
@media (max-width: 700px){
  .hero{ padding: 68px 0 40px; } /* 例: 上68 / 下40 に短縮 */
  .hero-strip{ margin-top: 8px; } /* 画像帯と見出しの距離を詰める */
  .hero .cta-row{ margin-top: 14px; }
}
/* === Google Form: シンプル固定高（JSでの高さ制御はしない） === */
.gform-embed{
  display:block;
  width:100%;
  height:1200px;   /* PC/タブレットの目安 */
  border:0;
}

@media (max-width:1024px){
  .gform-embed{ height:1300px; } /* タブレットは少し余裕 */
}

@media (max-width:700px){
  .gform-embed{ height:1600px; } /* スマホは縦並びで長くなる */
}

/* もしフォーム周りにラッパーがあれば、はみ出し防止だけ許可 */
.form-embed{
  overflow:visible;
}
/* --- 追加: アプリ内ブラウザ切替時の見た目 --- */
.inapp-fallback[hidden] { display: none !important; }
.inapp-fallback {
  border: 1px solid var(--border, #e5e7eb);
  border-radius: 12px;
  padding: 16px;
  margin: 12px 0 0 0;
  background: var(--bg-soft, #fafafa);
}

/* Brave での余白発生を抑える（高さを控えめに＆最終セクションの下余白をゼロ） */
.is-brave .gform-embed {
  height: 1100px;          /* ほんの少し短めに（必要なら 1000〜1200 で微調整） */
}
.section-contact:last-of-type { margin-bottom: 0 !important; }

/* もしフォーム直下の余白が気になる場合はカードの余白も詰める */
.section-contact .card.form-embed { margin-bottom: 12px; }

/* 追加：小さめ端末の時は Brave 以外でも少し短く（空白の見えを軽減） */
@media (max-width:700px){
  .gform-embed{ height: 1500px; }   /* 既定1600→やや短縮。様子見で調整可 */
  .is-brave .gform-embed{ height: 1200px; }
}
/* --- 表示トグル（これが重複表示を解消） --- */
.section-contact[data-form-mode="embed"]    #form-inapp-fallback { display: none !important; }
.section-contact[data-form-mode="fallback"] #gform-frame         { display: none !important; }
.section-contact[data-form-mode="fallback"] .form-embed          { display: none !important; } /* 高さも消す */
.section-contact[data-form-mode="fallback"] #form-external-btn   { display: none !important; } /* 下のボタンは隠す（重複回避） */

/* --- フォールバックカードの見た目 --- */
.inapp-fallback {
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  padding: 16px;
  margin: 12px 0 0 0;
  background: #fafafa;
}

/* --- Braveの“下の謎余白”軽減：埋め込み時のみ高さをやや控えめに --- */
.is-brave .gform-embed { height: 1100px; }
.section-contact:last-of-type { margin-bottom: 0 !important; }

/* 既存の .gform-embed 高さ指定はそのまま使ってOK（PC:1200/タブ:1300/スマ:1500〜1600など） */
